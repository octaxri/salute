<div class="messenger">
  <div ng-class="{active: sidebar.isActive}" class="messenger-sidebar active">
    <div class="messenger-sidebar-header">
      <div class="title-bar">
        <h1 class="title-bar-title">
          <span class="d-ib">Messenger</span>
          <span class="d-ib">
            <a class="title-bar-shortcut" href="#" title="Add to shortcut list" data-container="body" data-toggle-text="Remove from shortcut list" data-trigger="hover" data-placement="right" data-toggle="tooltip">
              <span class="sr-only">Add to shortcut list</span>
            </a>
          </span>
        </h1>
      </div>
      <form class="search" action="/">
        <div class="form-group form-group-sm">
          <div class="input-with-icon">
            <input class="form-control" type="text" placeholder="Search for people and groups&hellip;">
            <span class="icon icon-search input-icon"></span>
          </div>
        </div>
      </form>
    </div>
    <div class="messenger-sidebar-body">
      <div class="custom-scrollbar" custom-scrollbar>
        <div class="messenger-list">
          <div ng-repeat="conversation in conversations">
            <div class="messenger-list-item">
              <a class="messenger-list-link" ng-click="show(conversation)" ng-class="{active: conversation.isActive}">
                <div class="messenger-list-avatar">
                  <img class="rounded" width="40" height="40" ng-src="{{ conversation.photo}}" alt="{{ conversation.name}}">
                </div>
                <div class="messenger-list-details">
                  <div class="messenger-list-date">{{ conversation.last.timestamp}}</div>
                  <div class="messenger-list-name">{{ conversation.name}}</div>
                  <div class="messenger-list-message">
                    <small class="truncate">{{ conversation.last.message}}</small>
                  </div>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div ng-class="{active:!sidebar.isActive}" class="messenger-content" fit-height offset=50>
    <div class="messenger-content-inner">
      <div ng-show="currentConversation" class="messenger-content-header">
        <div class="messenger-content-header-inner">
          <div class="messenger-toolbar">
            <div class="messenger-toolbar-tools pull-xs-left">
              <div class="btn-group hidden-md hidden-lg">
                <button class="btn btn-link link-muted" ng-click="setSidebarActive()" type="button">
                  <span class="icon icon-caret-left icon-lg icon-fw"></span>
                  Contacts
                </button>
              </div>
              <div class="btn-group hidden-xs hidden-sm">
                <button class="btn btn-link link-muted" title="Start group with Sophia Evans">
                  <span class="icon icon-users icon-lg icon-fw"></span>
                  Sophia Evans
                </button>
              </div>
            </div>
            <div class="messenger-toolbar-tools pull-xs-right">
              <div class="btn-group">
                <button class="btn btn-link link-muted" type="button">
                  <span class="icon icon-phone icon-lg icon-fw"></span>
                  <span class="visible-lg-inline">Start a voice call</span>
                </button>
                <button class="btn btn-link link-muted" type="button">
                  <span class="icon icon-video-camera icon-lg icon-fw"></span>
                  <span class="visible-lg-inline">Start a video call</span>
                </button>
                <div class="btn-group dropdown">
                  <button class="btn btn-link link-muted" aria-haspopup="true" data-toggle="dropdown" type="button">
                    <span class="icon icon-cog icon-lg icon-fw"></span>
                    <span class="visible-lg-inline">Settings</span>
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu dropdown-menu-right">
                    <li><a href="#">Mute Notifications</a></li>
                    <li class="divider"></li>
                    <li><a href="#">Mark as Unread</a></li>
                    <li><a href="#">Mark as Spam</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div ng-show="currentConversation" class="messenger-content-body">
        <div class="messenger-content-body-inner">
          <div class="messenger-scrollable-content" custom-scrollbar start="bottom">
            <div class="conversation">
              <div class="conversation-item" ng-repeat="conversation in currentConversation.conversation">
                <div class="conversation-{{ conversation.isMe ? 'other' : 'self' }}">
                  <div class="conversation-avatar">
                    <img class="rounded" width="36" height="36" ng-src="{{ conversation.isMe ? currentConversation.photo : 'img/0180441436.jpg' }}" alt="{{ currentConversation.name}}">
                  </div>
                  <div class="conversation-messages">
                    <div class="conversation-message" ng-repeat="message in conversation.messages">{{ message}}</div>
                    <div class="conversation-timestamp">{{ conversation.timestamp}}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div ng-show="currentConversation" class="messenger-content-footer">
        <div class="messenger-content-footer-inner">
          <div class="messenger-compose">
            <div class="messenger-compose-actions">
              <div class="messenger-compose-action">
                <label class="btn btn-link link-muted file-upload-btn">
                  <span class="icon icon-picture-o icon-lg"></span>
                  <input class="file-upload-input" type="file" name="messenger_compose_file">
                </label>
              </div>
              <div class="messenger-compose-action">
                <button class="btn btn-link link-muted" type="button">
                  <span class="icon icon-smile-o icon-lg"></span>
                </button>
              </div>
              <div class="messenger-compose-action">
                <button class="btn btn-link" type="button">Send</button>
              </div>
            </div>
            <div class="messenger-compose-message">
              <textarea class="messenger-compose-input" name="messenger_compose_message" placeholder="Type a message..."></textarea>
            </div>
          </div>
        </div>
      </div>
      <div ng-hide="currentConversation" class="messenger-welcome-body">
        <div class="messenger-welcome-inner">
          <div class="row">
            <div class="col-md-8 col-md-offset-2">
              <div class="messenger-avatar">
                <label class="messenger-avatar-btn">
                  <span class="icon icon-camera"></span>
                  <input class="file-upload-input" type="file" name="file">
                </label>
                <img class="img-rounded" width="128" height="128" src="img/0180441436.jpg" alt="Teddy Wilson">
              </div>
              <h1 class="messenger-heading">Welcome Teddy!</h1>
              <h6 class="messenger-subheading">Select a conversation</h6>
              <ul class="messenger-nav">
                <li><a href="#">Settings</a></li>
                <li><a href="#">Get Mobile App</a></li>
                <li><a href="#">Privacy Settings</a></li>
                <li><a href="#">Blocked People</a></li>
                <li><a href="#">Get help</a></li>
                <li><a href="#">Sign Out</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>